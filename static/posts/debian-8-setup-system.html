<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Debian 8 Setup System</title>
  <link href="../assets/images/favicon.png" rel="icon">
  <link rel="stylesheet" href="../assets/css/main.css">
  <link rel="stylesheet" href="../assets/highlight/styles/tomorrow-night.css">
  <link rel="stylesheet" href="../assets/css/font_roboto.css">
  <script src="../assets/highlight/highlight.pack.js"></script>
  <script src="../assets/js/jquery-3.1.1.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>

<header class="nav-down">
  <div class="header-inner">
    <ul class="header-nav">
      <li style="margin-right:20px;">
        <a href="#" class="header-a">
          <img class="nav-img" src="../assets/images/header_icon.png" style="display:inline;">
        </a>
      </li>
      
      <li class="header-li">
        <a href="../pages/projects.html" class="header-a">Projects</a>
      </li>
      
      <li class="header-li">
        <a href="../pages/archive.html" class="header-a">Archive</a>
      </li>
      
      <li class="header-li">
        <a href="../pages/about.html" class="header-a">About</a>
      </li>
      
    </ul>

    <ul id="nav-right-icons" class="header-nav" style="float: right;">
      <li style="margin-right:15px;">
        <a href="http://weibo.com/iycz" class="header-a" target="_blank">
          <img class="nav-img" src="../assets/images/weibo.png" width="38" height="38" style="display:inline;">
        </a>
      </li>
      <li style="margin-right:15px;">
        <a href="https://github.com/czyang" class="header-a" target="_blank">
          <img class="nav-img" src="../assets/images/github.png" width="38" height="38" style="display:inline;">
        </a>
      </li>
      <li style="margin-right:5px;">
        <a href="https://twitter.com/cz_yang" class="header-a" target="_blank">
          <img class="nav-img" src="../assets/images/twitter.png" width="38" height="38" style="display:inline;">
        </a>
      </li>
    </ul>
  </div>
</header>
<div class="content">
  <span class="title-info" style="color: #000;">Chengzhi Yang</span>
  <span class="title-info" style="margin-left: 10px;">2016-12-01</span>
  <h1 class="title">Debian 8 Setup System</h1>
  <h2>1. Change SSH Port</h2>

<p>Connect
<code>ssh root@host</code>
Change SSH port.
<code>vi /etc/ssh/sshd_config</code>
Locate line:
<code>#Port 22</code>
Remove # and change 22 to other port number.
Restart the sshd service:
<code>service sshd restart</code></p>

<p>Shortcut connect script file.</p>

<pre><code class="language-bash">#!/bin/sh
ssh -p 22233 root@host -o ServerAliveInterval=30
</code></pre>

<p>You can login with this command:
<code>./you_script_file_name</code></p>

<h2>2. Add SSH Public Key to Server</h2>

<p><a href="https://www.debian.org/devel/passwordlessssh" target="_blank">How to set up ssh so you aren’t asked for a password</a></p>

<blockquote>
<p>Run ssh-keygen on your machine, and just hit enter when asked for a password.<br />
This will generate both a private and a public key. With older SSH versions, they will be stored in ~_.ssh<em>identity and ~</em>.ssh<em>identity.pub; with newer ones, they will be stored in ~</em>.ssh_id<em>rsa and ~</em>.ssh_id<em>rsa.pub.<br />
Next, add the contents of the public key file into ~</em>.ssh_authorized_keys on the remote site (the file should be mode 600).</p>
</blockquote>

<p><em>This step may need “mkdir .ssh” directory</em></p>

<h2>3. Disable Password Authentication</h2>

<p>vi _etc_ssh/sshd_config</p>

<pre><code class="language-sh">vi /etc/ssh/sshd_config

ChallengeResponseAuthentication no
PasswordAuthentication no
UsePAM no

service sshd restart
</code></pre>

<h2>4. Update System</h2>

<pre><code class="language-sh">apt-get update
apt-get dist-upgrade
</code></pre>

<h2>5. Setup Shadowsocks</h2>

<p><a href="https://github.com/shadowsocks/shadowsocks-libev#debian--ubuntu" target="_blank">Recommand shadowsocks server on Github</a></p>

</div>
<script src="../assets/js/main.js"></script>
</body>
</html>
